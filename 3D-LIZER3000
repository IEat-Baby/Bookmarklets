javascript:(function()%20%7B%20%09var%20tri%20=%20%7B%20%09%09menu:%20document.createElement(%22div%22),%20%09%09limit:%20document.createElement(%22input%22),%20%09%09gap:%20document.createElement(%22input%22),%20%09%09sag:%20document.createElement(%22input%22),%20%09%09fov:%20document.createElement(%22input%22),%20%09%09flo:%20document.createElement(%22input%22),%20%09%09off:%20document.createElement(%22input%22),%20%09%09non:%20document.createElement(%22input%22),%20%09%09end:%20document.createElement(%22input%22),%20%09%09tgl:%20document.createElement(%22input%22),%20%09%09cssStatic:%20document.createElement(%22style%22),%20%09%09cssDynamic:%20document.createElement(%22style%22),%20%09%09orientation:%20%7B%22yaw%22:%200,%20%22pitch%22:%200,%20%22roll%22:%200%7D,%20%09%09mouseMove:%20function(e)%20%7B%20%09%09%09tri.orientation.yaw%20=%20-Math.cos(Math.PI%20*%20e.clientX%20/%20innerWidth)%20*%20180%20*%20tri.limit.value;%20%09%09%09tri.orientation.pitch%20=%20Math.cos(Math.PI%20*%20e.clientY%20/%20innerHeight)%20*%20180%20*%20tri.limit.value;%20%09%09%09tri.updateBody();%20%09%09%7D,%20%09%09gyroMove:%20function(e)%20%7B%20%09%09%09var%20landscape%20=%20innerWidth%20%3E%20innerHeight;%20%09%09%09if%20(landscape)%20%7B%20%09%09%09%09tri.orientation.yaw%20=%20-(e.alpha%20+%20e.beta);%20%09%09%09%09tri.orientation.pitch%20=%20e.gamma%20-%20Math.sign(90%20-%20Math.abs(e.beta))%20*%2090;%20%09%09%09%7D%20%09%09%09else%20%7B%20%09%09%09%09tri.orientation.yaw%20=%20-(e.alpha%20+%20e.gamma);%20%09%09%09%09tri.orientation.pitch%20=%20e.beta%20-%2090;%20%09%09%09%7D%20%09%09%09tri.updateBody();%20%09%09%7D,%20%09%09updateOrigin:%20function(e)%20%7B%20%09%09%09document.body.style.transformOrigin%20=%20(innerWidth%20/%202%20+%20pageXOffset)%20+%20%22px%20%22%20+%20(innerHeight%20/%202%20+%20pageYOffset)%20+%20%22px%22;%20%09%09%7D,%20%09%09updateBody:%20function()%20%7B%20%09%09%09document.body.style.transform%20=%20%22perspective(%22%20+%20Math.pow(2,%20tri.fov.value)%20+%20%22px)%20translateZ(-%22%20+%20tri.gap.value%20+%20%22px)%20rotateX(%22%20+%20tri.orientation.pitch%20+%20%22deg)%20rotateY(%22%20+%20tri.orientation.yaw%20+%20%22deg)%22;%20%09%09%7D,%20%09%09updateCSS:%20function()%20%7B%20%09%09%09if%20(tri.non.checked)%20%09%09%09%09tri.cssDynamic.textContent%20=%20%22%22;%20%09%09%09else%20if%20(tri.off.checked)%20%09%09%09%09tri.cssDynamic.textContent%20=%20%22*%20%7B%20transform-style:%20preserve-3d;%20%7D%22;%20%09%09%09else%20%7B%20%09%09%09%09for%20(var%20depth%20=%200;%20document.querySelector(%22body%22%20+%20%22%20%3E%20*%22.repeat(depth));%20depth++);%20%09%09%09%09var%20gap%20=%20tri.gap.value%20/%20depth;%20%09%09%09%09var%20sag%20=%20-Math.PI%20*%20tri.sag.value%20/%20depth;%20%09%09%09%09tri.cssDynamic.textContent%20=%20%60%20*%20%7B%20%09transform:%20translateZ($%7Bgap%7Dpx)%20rotateX($%7Bsag%7Drad);%20%09transform-style:%20preserve-3d;%20%09transition:%20transform%201s;%20%09outline:%201px%20solid%20rgba(0,%200,%200,%200.0625);%20%09$%7Btri.flo.checked%20?%20%22overflow:%20visible%20!important;%22%20:%20%22%22%7D%20%7D%20*:hover%20%7B%20%09transform:%20translateZ($%7Bgap%20*%202%7Dpx)%20rotateX($%7Bsag%20*%202%7Drad);%20%09$%7B!tri.flo.checked%20?%20%22overflow:%20visible;%22%20:%20%22%22%7D%20%7D%20%60;%20%09%09%09%7D%20%09%09%7D,%20%09%09toggle:%20function()%20%7B%20%09%09%09if%20(tri.menu.className%20==%20%22active%22)%20%7B%20%09%09%09%09tri.menu.removeAttribute(%22class%22);%20%09%09%09%7D%20%09%09%09else%20%7B%20%09%09%09%09tri.menu.className%20=%20%22active%22;%20%09%09%09%7D%20%09%09%7D,%20%09%09quit:%20function()%20%7B%20%09%09%09window.removeEventListener(%22deviceorientation%22,%20tri.gyroMove);%20%09%09%09window.removeEventListener(%22mousemove%22,%20tri.mouseMove);%20%09%09%09window.removeEventListener(%22scroll%22,%20tri.updateOrigin);%20%09%09%09window.addEventListener(%22resize%22,%20tri.updateOrigin);%20%09%09%09tri.menu.remove();%20%09%09%09tri.cssStatic.remove();%20%09%09%09tri.cssDynamic.remove();%20%09%09%09document.body.removeAttribute(%22style%22);%20%09%09%7D,%20%09%09newRange:%20function(e,%20label,%20min,%20step,%20max,%20value,%20f)%20%7B%20%09%09%09tri.menu.appendChild(e);%20%09%09%09e.type%20=%20%22range%22;%20%09%09%09e.min%20=%20min;%20%09%09%09e.max%20=%20max;%20%09%09%09e.step%20=%20step;%20%09%09%09e.value%20=%20value;%20%09%09%09e.addEventListener(%22input%22,%20f);%20%09%09%09tri.menu.appendChild(document.createElement(%22span%22)).textContent%20=%20label;%20%09%09%09tri.menu.appendChild(document.createElement(%22br%22));%20%09%09%7D,%20%09%09newCheckbox:%20function(e,%20label,%20f)%20%7B%20%09%09%09tri.menu.appendChild(e);%20%09%09%09e.type%20=%20%22checkbox%22;%20%09%09%09e.addEventListener(%22click%22,%20f);%20%09%09%09tri.menu.appendChild(document.createElement(%22span%22)).textContent%20=%20label;%20%09%09%09tri.menu.appendChild(document.createElement(%22br%22));%20%09%09%7D,%20%09%09newButton:%20function(e,%20label,%20f)%20%7B%20%09%09%09tri.menu.appendChild(e);%20%09%09%09e.type%20=%20%22button%22;%20%09%09%09e.value%20=%20label;%20%09%09%09e.addEventListener(%22click%22,%20f);%20%09%09%7D,%20%09%09init:%20function()%20%7B%20%09%09%09document.body.parentNode.appendChild(tri.menu).id%20=%20%22tri-menu%22;%20%09%09%09tri.newRange(tri.limit,%20%22limit%22,%200,%200.03125,%201,%200.125,%20tri.updateBody);%20%09%09%09tri.newRange(tri.gap,%20%22gap%20/%20distance%22,%200,%2032,%20512,%20128,%20function()%20%7B%20%09%09%09%09tri.updateCSS();%20%09%09%09%09tri.updateBody();%20%09%09%09%7D);%20%09%09%09tri.newRange(tri.sag,%20%22sag%22,%20-0.25,%200.03125,%200.25,%200,%20tri.updateCSS);%20%09%09%09tri.newRange(tri.fov,%20%22field%20of%20view%22,%207,%201,%2013,%2010,%20tri.updateBody);%20%09%09%09tri.newCheckbox(tri.flo,%20%22force%20overflow%22,%20tri.updateCSS);%20%09%09%09tri.flo.setAttribute(%22checked%22,%20%22%22);%20%09%09%09tri.newCheckbox(tri.off,%20%22flatten%20layers%22,%20tri.updateCSS);%20%09%09%09tri.newCheckbox(tri.non,%20%22flatten%20everything%22,%20tri.updateCSS);%20%09%09%09tri.newButton(tri.end,%20%22Quit%22,%20tri.quit);%20%09%09%09tri.newButton(tri.tgl,%20%22â‰¡%22,%20tri.toggle);%20%09%09%09tri.tgl.id%20=%20%22tri-toggle%22;%20%09%09%09tri.menu.appendChild(tri.cssStatic).textContent%20=%20%60%20html,%20body%20%7B%20%09transition-property:%20none;%20%09height:%20100%25;%20%09width:%20100%25;%20%7D%20html,%20html:hover,%20%23tri-menu,%20%23tri-menu%20%3E%20*,%20%23tri-menu%20%3E%20*:hover%20%7B%20%09transform:%20none;%20%09outline:%20none;%20%09overflow:%20auto%20!important;%20%09float:%20none;%20%7D%20%23tri-menu%20%7B%20%09position:%20fixed;%20%09top:%200;%20%09left:%200;%20%09background:%20rgba(0,%200,%200,%200.5);%20%09color:%20white;%20%09border:%201px%20solid%20rgba(255,%20255,%20255,%200.5);;%20%09border-radius:%200%200%2016px%200;%20%09padding:%208px;%20%09transform:%20translate(-100%25,%20-100%25)%20translate(32px,%2032px);%20%7D%20%23tri-menu.active%20%7B%20%09transform:%20none;%20%7D%20%23tri-toggle%20%7B%20%09position:%20absolute;%20%09bottom:%200;%20%09right:%200;%20%09height:%2032px;%20%09width:%2032px;%20%09background:%20transparent;%20%09color:%20white;%20%09border:%20none;%20%09cursor:%20pointer;%20%7D%20%23tri-menu.active%20%3E%20%23tri-toggle%20%7B%20%09background:%20white;%20%09color:%20black;%20%09border-radius:%208px%200%200%200;%20%7D%20%60;%20%09%09%09tri.menu.appendChild(tri.cssDynamic);%20%09%09%09tri.updateCSS();%20%09%09%09window.addEventListener(%22deviceorientation%22,%20tri.gyroMove);%20%09%09%09window.addEventListener(%22mousemove%22,%20tri.mouseMove);%20%09%09%09window.addEventListener(%22scroll%22,%20tri.updateOrigin);%20%09%09%09window.addEventListener(%22resize%22,%20tri.updateOrigin);%20%09%09%09window.scrollBy(0,%201);%20%09%09%7D%20%09%7D;%20%09tri.init();%20%7D)();
