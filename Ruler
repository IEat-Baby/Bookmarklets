javascript:(function()%7Bvar%20Event=function()%7B%22use%20strict%22;%20this.attach=function(evtName,%20element,%20listener,%20capture)%7B%20var%20evt=%22%22,%20useCapture=capture%20===%20undefined%20?%20true%20:%20capture,%20handler=null;%20if%20(window.addEventListener%20===%20undefined)%7B%20evt=%22on%22%20+%20evtName;%20handler=function(evt,%20listener)%7B%20element.attachEvent(evt,%20listener);%20return%20listener;%20%7D;%20%7D%20else%7B%20evt=evtName;%20handler=function(evt,%20listener,%20useCapture)%7B%20element.addEventListener(evt,%20listener,%20useCapture);%20return%20listener;%20%7D;%20%7D%20return%20handler.apply(element,%20%5B%20evt,%20function(ev)%7B%20var%20e=ev%20%7C%7C%20event,%20src=e.srcElement%20%7C%7C%20e.target;%20listener(e,%20src);%20%7D,%20useCapture,%20%5D);%20%7D;%20this.detach=function(evtName,%20element,%20listener,%20capture)%7B%20var%20evt=%22%22,%20useCapture=capture%20===%20undefined%20?%20true%20:%20capture;%20if%20(window.removeEventListener%20===%20undefined)%7B%20evt=%22on%22%20+%20evtName;%20element.detachEvent(evt,%20listener);%20%7D%20else%7B%20evt=evtName;%20element.removeEventListener(evt,%20listener,%20useCapture);%20%7D%20%7D;%20this.stop=function(evt)%7B%20evt.cancelBubble=true;%20if%20(evt.stopPropagation)%7B%20evt.stopPropagation();%20%7D%20%7D;%20this.prevent=function(evt)%7B%20if%20(evt.preventDefault)%7B%20evt.preventDefault();%20%7D%20else%7B%20evt.returnValue=false;%20%7D%20%7D;%20%7D;%20var%20Dragdrop=function(evt)%7B%22use%20strict%22;%20var%20elem=null,%20started=0,%20self=this,%20moveHandler=null,%20doc=document.documentElement,%20body=document.body,%20gWidth=document.body.scrollWidth%20%3E%20document.documentElement.clientWidth%20?%20document.body.scrollWidth%20:%20document.documentElement.clientWidth,%20gHeight=Math.max(body.scrollHeight,%20body.offsetHeight,%20doc.clientHeight,%20doc.scrollHeight,%20doc.offsetHeight),%20move=function(e)%7B%20var%20xDiff=e.clientX%20-%20elem.posX,%20yDiff=e.clientY%20-%20elem.posY,%20x=xDiff%20-%20(xDiff%20%25%20elem.snap)%20+%20%22px%22,%20y=yDiff%20-%20(yDiff%20%25%20elem.snap)%20+%20%22px%22;%20if%20(started%20===%201)%7B%20switch%20(elem.mode)%7B%20case%200:%20elem.style.top=y;%20elem.style.left=x;%20break;%20case%201:%20elem.style.left=x;%20break;%20case%202:%20elem.style.top=y;%20break;%20%7D%20if%20(elem.mode%20!==%202)%7B%20if%20(xDiff%20%3C=%20elem.minX)%7B%20elem.style.left=elem.minX%20+%20%22px%22;%20%7D%20if%20(elem.offsetLeft%20+%20elem.offsetWidth%20%3E=%20elem.maxX)%7B%20elem.style.left=elem.maxX%20-%20elem.offsetWidth%20+%20%22px%22;%20%7D%20%7D%20if%20(elem.mode%20!==%201)%7B%20if%20(yDiff%20%3C=%20elem.minY)%7B%20elem.style.top=elem.minY%20+%20%22px%22;%20%7D%20if%20(elem.offsetTop%20+%20elem.offsetHeight%20%3E=%20elem.maxY)%7B%20elem.style.top=elem.maxY%20-%20elem.offsetHeight%20+%20%22px%22;%20%7D%20%7D%20elem.onMove(elem);%20%7D%20%7D,%20start=function(e,%20src)%7B%20if%20(src.className.indexOf(%22draggable%22)%20!==%20-1)%7B%20evt.prevent(e);%20moveHandler=evt.attach(%22mousemove%22,%20document,%20move,%20true);%20started=1;%20elem=src;%20elem.posX=e.clientX%20-%20elem.offsetLeft;%20elem.posY=e.clientY%20-%20elem.offsetTop;%20if%20(elem.mode%20===%20undefined)%7B%20self.set(elem);%20%7D%20elem.onStart(elem);%20if%20(elem.setCapture)%7B%20elem.setCapture();%20%7D%20%7D%20%7D,%20stop=function()%7B%20if%20(started%20===%201)%7B%20started=0;%20elem.onStop(elem);%20evt.detach(%22mousemove%22,%20document,%20moveHandler);%20if%20(elem.releaseCapture)%7B%20elem.releaseCapture();%20%7D%20%7D%20%7D;%20evt.attach(%22mousedown%22,%20document,%20start,%20false);%20evt.attach(%22mouseup%22,%20document,%20stop,%20false);%20this.start=start;%20this.set=function(element,%20elemOptions)%7B%20var%20options=elemOptions%20%7C%7C%20%7B%7D;%20elem=typeof%20element%20===%20%22string%22%20?%20document.getElementById(element)%20:%20element;%20elem.mode=options.mode%20%7C%7C%200;%20elem.minX=options.minX%20%7C%7C%200;%20elem.maxX=options.maxX%20%7C%7C%20gWidth;%20elem.minY=options.minY%20%7C%7C%200;%20elem.maxY=options.maxY%20%7C%7C%20gHeight;%20elem.snap=options.snap%20%7C%7C%201;%20elem.onStart=options.onstart%20%7C%7C%20function()%20%7B%7D;%20elem.onMove=options.onmove%20%7C%7C%20function()%20%7B%7D;%20elem.onStop=options.onstop%20%7C%7C%20function()%20%7B%7D;%20elem.style.left=elem.offsetLeft%20+%20%22px%22;%20elem.style.top=elem.offsetTop%20+%20%22px%22;%20elem.unselectable=%22on%22;%20%7D;%20%7D;%20var%20RulersGuides=function(evt,%20dragdrop)%7B%22use%20strict%22;%20var%20doc=document.documentElement,%20body=document.body,%20wrapper=null,%20lockHandler=null,%20locked=1,%20hRuler=null,%20vRuler=null,%20menu=null,%20dialogs=%5B%5D,%20snapDialog=null,%20openGridDialog=null,%20xSnap=0,%20ySnap=0,%20mode=2,%20guides=%7B%7D,%20guidesCnt=0,%20gUid=%22%22,%20rulerStatus=1,%20guideStatus=1,%20hBound=0,%20vBound=0,%20gridList=null,%20gridListLen=0,%20menuBtn=null,%20gInfoBlockWrapper=null,%20detailsStatus=0,%20domElements=%5B%5D,%20domDimensions=%5B%5D,%20resizeTimer=null,%20snapDom=0,%20cssText=%20%22html,body%7Bmargin:0;padding:0%7D.rg-overlay%7Bposition:absolute;top:0;left:0;overflow:hidden%7D.guide%7Bposition:absolute;top:0;left:0;z-index:99991;font-size:0%7D.guide.v%7Bwidth:1px;height:7000px;border-right:solid%201px%20%2300f;cursor:col-resize%7D.guide.h%7Bwidth:3000px;height:1px;border-bottom:solid%201px%20%2300f;cursor:row-resize%7D.info%7Bwidth:50px;height:25px;line-height:25px;text-align:center;position:relative;font-size:13px;background-color:%23eee;border:solid%201px%20%23ccc;color:%23000%7D.guide.v%20.info%7Bleft:2px%7D.guide.h%20.info%7Btop:2px%7D.unselectable%7B-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none%7D.ruler%7Bbackground-color:%23ccc;position:absolute;top:0;left:0;z-index:99990%7D.ruler%20.label%7Bfont:12px%20Arial;color:%23000%7D.ruler,.ruler%20span%7Bfont-size:0%7D.ruler.h%7Bwidth:3000px;position:fixed;left:-1px;padding-top:14px;border-bottom:solid%201px%20%23000%7D.ruler.v%7Bheight:7000px;top:-1px;padding-left:16px;width:45px;border-right:solid%201px%20%23000%7D.ruler.h%20span%7Bborder-left:solid%201px%20%23999;height:9px;width:1px;vertical-align:bottom;display:inline-block;*display:inline;zoom:1%7D.ruler.v%20span%7Bdisplay:block;margin-left:auto;margin-right:0;border-top:solid%201px%20%23999;width:9px;height:1px%7D.ruler.v%20span.major%7Bborder-top:solid%201px%20%23000;width:13px%7D.ruler.v%20span.milestone%7Bposition:relative;border-top:solid%201px%20%23000;width:17px%7D.ruler.v%20span.label%7Bborder:0;font-size:9px;position:absolute;text-align:center;width:9px%7D.ruler.h%20span.major%7Bborder-left:solid%201px%20%23000;height:13px%7D.ruler.h%20span.milestone%7Bposition:relative;border-left:solid%201px%20%23000;height:17px%7D.ruler.h%20span.label%7Bborder:0;font-size:9px;position:absolute;text-align:center;top:-14px;width:9px%7D.ruler.h%20.l10%7Bleft:-5px%7D.ruler.h%20.l100%7Bleft:-7px%7D.ruler.h%20.l1000%7Bleft:-10px%7D.ruler.v%20.l10,.ruler.v%20.l100,.ruler.v%20.l1000%7Btop:-7px%7D.ruler.v%20.l10%7Bleft:-12px%7D.ruler.v%20.l100%7Bleft:-17px%7D.ruler.v%20.l1000%7Bleft:-23px%7D.menu-btn%7Bposition:fixed;left:3px;top:2px;line-height:9px;z-index:99998;width:20px;height:20px;background-color:red;opacity:.5;font-size:20px;text-align:left;color:%23fff;font-weight:700;cursor:pointer;border-radius:2px%7D.rg-menu%7Bposition:fixed;top:22px;left:3px;padding:0;margin:0;list-style:0;display:none;font:13px%20Arial;z-index:99999;box-shadow:2px%202px%2010px%20%23ccc%7D.rg-menu%20li%7Btext-align:left;border-bottom:solid%201px%20%23999;padding:0%7D.rg-menu%20a%7Bbackground-color:%23777;display:block;padding:5px;text-decoration:none;color:%23fff;line-height:18px%7D.rg-menu%20a:hover,.rg-menu%20a.selected%7Bcolor:%23fff;background-color:%233b94ec%7D.rg-menu%20a.disabled%7Bcolor:%23ccc%7D.rg-menu%20.desc%7Bdisplay:inline-block;width:170px%7D.dialog%7Bposition:fixed;background-color:%23777;z-index:99999;color:%23fff;font-size:13px;display:none;box-shadow:2px%202px%2010px%20%23ccc%7D.dialog%20button%7Bborder:0;color:%23333;cursor:pointer;background-color:%23eaeaea;background-image:linear-gradient(%23fafafa,%23eaeaea);background-repeat:repeat-x;border-radius:3px;text-shadow:0%201px%200%20rgba(255,255,255,.9)%7D.dialog%20input,.dialog%20select,.dialog%20button%7Bfont-size:13px;margin:3px;padding:3px%7D.dialog%20.title-bar%7Bpadding:5px;background-color:%23aaa;font-weight:700%7D.dialog%20.wrapper%7Bpadding:10px%7D.open-dialog%20select,.open-dialog%20button%7Bfloat:left;display:block%7D.open-dialog%20.ok-btn,.open-dialog%20.cancel-btn%7Bmargin:10px%203px%7D.open-dialog%20.ok-btn%7Bclear:both%7D.snap-dialog%20label%7Bfont-weight:700;padding:3px%7D.snap-dialog%20.ok-btn%7Bmargin-left:18px%7D.snap-dialog%20.ok-btn,.snap-dialog%20.cancel-btn%7Bmargin-top:10px%7D.snap-dialog%20.rg-y-label%7Bmargin-left:10px%7D%23rg-x-snap,%23rg-y-snap%7Bwidth:50px%7D.info-block-wrapper%7Bposition:absolute;z-index:99989%7D.info-block%7Bposition:absolute;text-align:left%7D.info-block.even%7Bbackground:0%200;background-color:rgba(0,0,255,.2);-ms-filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=%23330000FF,%20endColorstr=%23330000FF);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=%23330000FF,%20endColorstr=%23330000FF);zoom:1%7D.info-block.odd%7Bbackground:0%200;background-color:rgba(255,0,0,.2);-ms-filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=%2333FF0000,%20endColorstr=%2333FF0000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=%2333FF0000,%20endColorstr=%2333FF0000);zoom:1%7D.info-block-txt%7Bpadding:5px;display:inline-block;vertical-align:top;background-color:%23777;color:%23fff;font-size:13px;*display:inline;zoom:1%7D%22,%20Ruler=function(type,%20size)%7B%20var%20ruler=document.createElement(%22div%22),%20i=0,%20span=document.createElement(%22span%22),%20label=null,%20labelTxt=null,%20spanFrag=document.createDocumentFragment(),%20cnt=Math.floor(size%20/%202);%20ruler.className=%22ruler%20%22%20+%20type%20+%20%22%20unselectable%22;%20for%20(i;%20i%20%3C%20cnt;%20i=i%20+%201)%7B%20span=span.cloneNode(false);%20if%20(i%20%25%2025%20===%200)%7B%20span.className=%22milestone%22;%20if%20(i%20%3E%200)%7B%20label=span.cloneNode(false);%20label.className=%22label%22;%20if%20(i%20%3C%2050)%7Blabel.className%20+=%20%22%20l10%22;%20%7D%20else%20if%20(i%20%3E=%2050%20&&%20i%20%3C%20500)%7Blabel.className%20+=%20%22%20l100%22;%20%7D%20else%20if%20(i%20%3E=%20500)%7Blabel.className%20+=%20%22%20l1000%22;%20%7D%20labelTxt=document.createTextNode(i);%20label.appendChild(labelTxt);%20span.appendChild(label);%20%7D%20span.className=%22milestone%22;%20%7D%20else%20if%20(i%20%25%205%20===%200)%7B%20span.className=%22major%22;%20%7D%20else%7B%20span.className=%22%22;%20span.removeAttribute(%22class%22);%20%7D%20spanFrag.appendChild(span);%20%7D%20ruler.appendChild(spanFrag);%20return%20ruler;%20%7D,%20getWindowSize=function()%7B%20var%20w=Math.max(body.scrollWidth,%20body.offsetWidth,%20doc.clientWidth,%20doc.scrollWidth,%20doc.offsetWidth),%20h=Math.max(body.scrollHeight,%20body.offsetHeight,%20doc.clientHeight,%20doc.scrollHeight,%20doc.offsetHeight);%20return%20%5Bw,%20h%5D;%20%7D,%20getScrollPos=function()%7B%20var%20t=Math.max(doc.scrollTop,%20body.scrollTop),%20l=Math.max(doc.scrollLeft,%20body.scrollLeft);%20return%20%5Bt,%20l%5D;%20%7D,%20getScrollSize=function()%7B%20var%20w=Math.max(doc.scrollWidth,%20body.scrollWidth),%20h=Math.max(doc.scrollHeight,%20body.scrollHeight);%20return%20%5Bw,%20h%5D;%20%7D,%20closeAllDialogs=function()%7B%20var%20i=0;%20for%20(i;%20i%20%3C%20dialogs.length;%20i=i%20+%201)%7B%20dialogs%5Bi%5D.close();%20%7D%20%7D,%20removeInboundGuide=function(guide,%20gUid)%7B%20var%20scrollPos=getScrollPos();%20if%20(rulerStatus%20===%201%20&&%20guideStatus%20===%201%20&&%20((guide.className%20===%20%22guide%20h%20draggable%22%20&&%20guide.offsetTop%20%3C%20hBound%20+%20scrollPos%5B0%5D)%20%7C%7C%20(guide.className%20===%20%22guide%20v%20draggable%22%20&&%20guide.offsetLeft%20%3C%20vBound%20+%20scrollPos%5B1%5D)))%7B%20wrapper.removeChild(guide);%20delete%20guides%5BgUid%5D;%20guidesCnt=guidesCnt%20-%201;%20%7D%20%7D,%20removeInboundGuides=function()%7B%20var%20i;%20for%20(i%20in%20guides)%7B%20if%20(guides.hasOwnProperty(i))%7B%20removeInboundGuide(guides%5Bi%5D,%20i);%20%7D%20%7D%20%7D,%20toggleGuides=function()%7B%20var%20i;%20guideStatus=1%20-%20guideStatus;%20for%20(i%20in%20guides)%7B%20if%20(guides.hasOwnProperty(i))%7B%20guides%5Bi%5D.style.display=guideStatus%20===%201%20?%20%22block%22%20:%20%22none%22;%20%7D%20%7D%20if%20(guideStatus%20===%201)%7B%20wrapper.style.display=%22block%22;%20%7D%20%7D,%20toggleRulers=function()%7B%20rulerStatus=1%20-%20rulerStatus;%20if%20(rulerStatus%20===%201)%7B%20vRuler.style.display=%22block%22;%20hRuler.style.display=%22block%22;%20wrapper.style.display=%22block%22;%20removeInboundGuides();%20%7D%20else%7B%20vRuler.style.display=%22none%22;%20hRuler.style.display=%22none%22;%20%7D%20%7D,%20removeGrid=function(gridName)%7B%20if%20(gridList%5BgridName%5D%20!==%20undefined)%7B%20delete%20gridList%5BgridName%5D;%20window.localStorage.setItem(%22RulersGuides%22,%20JSON.stringify(gridList));%20gridListLen=gridListLen%20-%201;%20%7D%20%7D,%20deleteGuides=function()%7B%20var%20i;%20if%20(guidesCnt%20%3E%200)%7B%20for%20(i%20in%20guides)%7B%20if%20(guides.hasOwnProperty(i))%7B%20wrapper.removeChild(guides%5Bi%5D);%20delete%20guides%5Bi%5D;%20guidesCnt=guidesCnt%20-%201;%20%7D%20%7D%20gInfoBlockWrapper.style.display=%22none%22;%20%7D%20%7D,%20renderGrid=function(gridName)%7B%20if%20(gridList%5BgridName%5D%20!==%20undefined)%7B%20var%20grid=gridList%5BgridName%5D,%20guideId=null,%20guideElem=null;%20deleteGuides();%20for%20(guideId%20in%20grid)%7B%20if%20(grid.hasOwnProperty(guideId))%7B%20guideElem=document.createElement(%22div%22);%20guideElem.id=guideId;%20guideElem.className=grid%5BguideId%5D.cssClass;%20guideElem.style.cssText=grid%5BguideId%5D.style;%20wrapper.appendChild(guideElem);%20guides%5BguideId%5D=guideElem;%20guidesCnt=guidesCnt%20+%201;%20%7D%20%7D%20%7D%20%7D,%20OpenGridDialog=function()%7B%20var%20dialog=null,%20self=this,%20select=null,%20renderSelect=function(insertOrUpdate)%7B%20var%20gridName,%20options=%22%22,%20i;%20gridListLen=0;%20if%20(window.localStorage)%7B%20gridList=JSON.parse(window.localStorage.getItem(%22RulersGuides%22));%20for%20(i%20in%20gridList)%7Bif%20(gridList.hasOwnProperty(i))%7B%20gridListLen=gridListLen%20+%201;%20%7D%20%7D%20%7D%20if%20(insertOrUpdate%20===%200)%7B%20select=document.createElement(%22select%22);%20select.id=%22grid-list%22;%20%7D%20if%20(gridListLen%20%3E%200)%7B%20for%20(gridName%20in%20gridList)%7Bif%20(gridList.hasOwnProperty(gridName))%7B%20options%20+=%20%22%3Coption%3E%22%20+%20gridName%20+%20%22%3C/option%3E%22;%20%7D%20%7D%20select.innerHTML=options;%20%7D%20return%20select;%20%7D;%20this.render=function()%7B%20if%20(dialog%20===%20null)%7B%20dialog=document.createElement(%22div%22);%20select=renderSelect(0);%20var%20text=document.createTextNode(%22%22),%20titleBar=dialog.cloneNode(false),%20dialogWrapper=dialog.cloneNode(false),%20okBtn=document.createElement(%22button%22),%20cancelBtn=okBtn.cloneNode(false),%20delBtn=okBtn.cloneNode(false),%20titleBarTxt=text.cloneNode(false),%20okBtnTxt=text.cloneNode(false),%20cancelBtnTxt=text.cloneNode(false),%20delBtnTxt=text.cloneNode(false);%20titleBarTxt.nodeValue=%22Open%20grid%22;%20okBtnTxt.nodeValue=%22OK%22;%20cancelBtnTxt.nodeValue=%22Cancel%22;%20delBtnTxt.nodeValue=%22Delete%22;%20dialog.className=%22dialog%20open-dialog%22;%20titleBar.className=%22title-bar%22;%20dialogWrapper.className=%22wrapper%22;%20okBtn.className=%22ok-btn%22;%20cancelBtn.className=%22cancel-btn%22;%20delBtn.className=%22del-btn%22;%20titleBar.appendChild(titleBarTxt);%20okBtn.appendChild(okBtnTxt);%20cancelBtn.appendChild(cancelBtnTxt);%20delBtn.appendChild(delBtnTxt);%20dialogWrapper.appendChild(select);%20dialogWrapper.appendChild(delBtn);%20dialogWrapper.appendChild(okBtn);%20dialogWrapper.appendChild(cancelBtn);%20dialog.appendChild(titleBar);%20dialog.appendChild(dialogWrapper);%20body.appendChild(dialog);%20evt.attach(%22click%22,%20delBtn,%20function()%7B%20if%20(window.confirm(%22Are%20you%20sure%20?%22))%7Bif%20(select.options.length%20%3E%200)%7B%20removeGrid(select.options%5Bselect.selectedIndex%5D.value);%20select.removeChild(select.options%5Bselect.selectedIndex%5D);%20%7D%20if%20(select.options.length%20===%200)%7B%20self.close();%20%7D%20%7D%20%7D);%20evt.attach(%22click%22,%20okBtn,%20function()%7B%20renderGrid(select.value);%20self.close();%20%7D);%20evt.attach(%22click%22,%20cancelBtn,%20function()%7B%20self.close();%20%7D);%20%7D%20%7D;%20this.render();%20this.open=function()%7B%20closeAllDialogs();%20renderSelect(1);%20if%20(gridListLen%20%3E%200)%7B%20dialog.style.display=%22block%22;%20dialog.style.left=(doc.clientWidth%20-%20dialog.clientWidth)%20/%202%20+%20%22px%22;%20dialog.style.top=(doc.clientHeight%20-%20dialog.clientHeight)%20/%202%20+%20%22px%22;%20%7D%20%7D;%20this.close=function()%7B%20dialog.style.display=%22none%22;%20%7D;%20%7D,%20toggleRulersLock=function()%7B%20if%20(locked%20===%200)%7B%20if%20(lockHandler%20!==%20null)%7B%20evt.detach(%22scroll%22,%20window,%20lockHandler);%20%7D%20%7D%20else%7B%20lockHandler=evt.attach(%22scroll%22,%20window,%20function()%7B%20var%20pos=getScrollPos(),%20size=getScrollSize();%20hRuler.style.top=pos%5B0%5D%20+%20%22px%22;%20wrapper.style.height=size%5B1%5D%20+%20%22px%22;%20vRuler.style.left=pos%5B1%5D%20+%20%22px%22;%20wrapper.style.width=size%5B0%5D%20+%20%22px%22;%20%7D);%20%7D%20locked=1%20-%20locked;%20%7D,%20saveGrid=function()%7B%20var%20data=%7B%7D,%20gridData=%7B%7D,%20i,%20gridName=%22%22;%20while%20(gridName%20===%20%22%22%20&&%20guidesCnt%20%3E%200)%7B%20gridName=window.prompt(%22Save%20grid%20as%22);%20if%20(gridName%20!==%20%22%22%20&&%20gridName%20!==%20false%20&&%20gridName%20!==%20null%20&&%20window.localStorage)%7B%20for%20(i%20in%20guides)%7B%20if%20(guides.hasOwnProperty(i))%7BgridData%5Bi%5D%20=%7BcssClass:%20guides%5Bi%5D.className,%20style:%20guides%5Bi%5D.style.cssText%20%7D;%20%7D%20%7D%20if%20(window.localStorage.getItem(%22RulersGuides%22)%20!==%20null)%7B%20data=JSON.parse(window.localStorage.getItem(%22RulersGuides%22));%20%7D%20data%5BgridName%5D=gridData;%20window.localStorage.setItem(%22RulersGuides%22,%20JSON.stringify(data));%20gridListLen=gridListLen%20+%201;%20%7D%20%7D%20%7D,%20showDetailedInfo=function()%7B%20var%20i,%20j=0,%20hGuides=%5B%5D,%20vGuides=%5B%5D,%20scrollSize=getScrollSize(),%20infoBlockWrapper=document.createElement(%22div%22),%20infoFrag=document.createDocumentFragment(),%20infoBlock=infoBlockWrapper.cloneNode(false),%20infoBlockTxt=infoBlockWrapper.cloneNode(false),%20infoData1=document.createTextNode(%22%22),%20infoData2=infoData1.cloneNode(false),%20text=%22%22,%20br=document.createElement(%22br%22);%20for%20(i%20in%20guides)%7B%20if%20(guides.hasOwnProperty(i))%7B%20if%20(guides%5Bi%5D.type%20===%20%22h%22)%7B%20hGuides.push(guides%5Bi%5D.y);%20%7D%20else%7B%20vGuides.push(guides%5Bi%5D.x);%20%7D%20%7D%20%7D%20vGuides.unshift(0);%20vGuides.push(scrollSize%5B0%5D);%20hGuides.unshift(0);%20hGuides.push(scrollSize%5B1%5D);%20vGuides=vGuides.sort(function(a,%20b)%7B%20return%20a%20-%20b;%20%7D);%20hGuides=hGuides.sort(function(a,%20b)%7B%20return%20a%20-%20b;%20%7D);%20for%20(i=0;%20i%20%3C%20hGuides.length%20-%201;%20i=i%20+%201)%7B%20j=0;%20for%20(j;%20j%20%3C%20vGuides.length%20-%201;%20j=j%20+%201)%7B%20infoBlock=infoBlock.cloneNode(false);%20infoBlockTxt=infoBlockTxt.cloneNode(false);%20infoData1=infoData1.cloneNode(false);%20infoData2=infoData2.cloneNode(false);%20br=br.cloneNode();%20infoBlockWrapper.className=%22info-block-wrapper%22;%20infoBlock.className=%22info-block%22;%20infoBlockTxt.className=%22info-block-txt%22;%20infoBlock.className%20+=%20(i%20%25%202%20!==%200%20&&%20j%20%25%202%20!==%200)%20%7C%7C%20(i%20%25%202%20===%200%20&&%20j%20%25%202%20===%200)%20?%20%22%20even%22%20:%20%22%20odd%22;%20infoBlock.style.top=hGuides%5Bi%5D%20+%20%22px%22;%20infoBlock.style.left=vGuides%5Bj%5D%20+%20%22px%22;%20infoBlock.style.width=vGuides%5Bj%20+%201%5D%20-%20vGuides%5Bj%5D%20+%20%22px%22;%20infoBlock.style.height=hGuides%5Bi%20+%201%5D%20-%20hGuides%5Bi%5D%20+%20%22px%22;%20text=vGuides%5Bj%20+%201%5D%20-%20vGuides%5Bj%5D%20+%20%22%20x%20%22%20+%20(hGuides%5Bi%20+%201%5D%20-%20hGuides%5Bi%5D);%20infoData1.nodeValue=text;%20text=hGuides%5Bi%5D%20+%20%22%20:%20%22%20+%20vGuides%5Bj%5D;%20infoData2.nodeValue=text;%20infoBlockTxt.appendChild(infoData1);%20infoBlockTxt.appendChild(br);%20infoBlockTxt.appendChild(infoData2);%20infoBlock.appendChild(infoBlockTxt);%20infoBlockTxt.style.marginTop=i%20===%200%20?%20%2231px%22%20:%20%220%22;%20infoBlockTxt.style.marginLeft=j%20===%200%20?%20%2242px%22%20:%20%220%22;%20infoFrag.appendChild(infoBlock);%20%7D%20%7D%20infoBlockWrapper.appendChild(infoFrag);%20if%20(detailsStatus%20===%201)%7B%20wrapper.replaceChild(infoBlockWrapper,%20gInfoBlockWrapper);%20gInfoBlockWrapper=infoBlockWrapper;%20%7D%20else%7B%20gInfoBlockWrapper.style.display=%22none%22;%20%7D%20%7D,%20calculateDomDimensions=function()%7B%20var%20x=%5B%5D,%20y=%5B%5D,%20dm=%5B%5D,%20i=0,%20len=domElements.length,%20findDimensions=function(elem)%7B%20var%20t=0,%20l=0,%20w=elem.offsetWidth,%20h=elem.offsetHeight;%20while%20(elem)%7B%20l%20+=%20elem.offsetLeft%20-%20elem.scrollLeft%20+%20elem.clientLeft;%20t%20+=%20elem.offsetTop%20-%20elem.scrollTop%20+%20elem.clientTop;%20elem=elem.offsetParent;%20%7D%20return%20%5Bl,%20t,%20l%20+%20w,%20t%20+%20h%5D;%20%7D,%20getUnique=function(arr)%7B%20var%20u=%7B%7D,%20a=%5B%5D,%20idx=0,%20arrLen=arr.length;%20for%20(idx;%20idx%20%3C%20arrLen;%20idx=idx%20+%201)%7B%20if%20(u.hasOwnProperty(arr%5Bidx%5D)%20===%20false)%7Ba.push(arr%5Bidx%5D);%20u%5Barr%5Bidx%5D%5D=1;%20%7D%20%7D%20return%20a;%20%7D;%20for%20(i;%20i%20%3C%20len;%20i=i%20+%201)%7B%20dm=findDimensions(domElements%5Bi%5D);%20x.push(dm%5B0%5D);%20x.push(dm%5B2%5D);%20y.push(dm%5B1%5D);%20y.push(dm%5B3%5D);%20%7D%20x=getUnique(x).sort(function(a,%20b)%7B%20return%20a%20-%20b;%20%7D);%20y=getUnique(y).sort(function(a,%20b)%7B%20return%20a%20-%20b;%20%7D);%20return%20%5Bx,%20y%5D;%20%7D,%20Menu=function()%7B%20var%20menuList=null,%20status=0,%20toggles=%7B%7D,%20menuItemsList=%5B%20%7Btext:%20%22Hide%20rulers%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20R%22,%20alias:%20%22rulers%22%20%7D,%20%7Btext:%20%22Hide%20guides%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20G%22,%20alias:%20%22guides%22%20%7D,%20%7Btext:%20%22Hide%20all%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20A%22,%20alias:%20%22all%22%20%7D,%20%7Btext:%20%22Unlock%20rulers%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20L%22,%20alias:%20%22lock%22%20%7D,%20%7Btext:%20%22Clear%20all%20guides%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20D%22,%20alias:%20%22clear%22%20%7D,%20%7Btext:%20%22Open%20grid%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20O%22,%20alias:%20%22open%22%20%7D,%20%7Btext:%20%22Save%20grid%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20G%22,%20alias:%20%22save%22%20%7D,%20%7Btext:%20%22Snap%20to%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20C%22,%20alias:%20%22snap%22%20%7D,%20%7Btext:%20%22Show%20detailed%20info%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20I%22,%20alias:%20%22details%22%20%7D,%20%7Btext:%20%22Snap%20to%20DOM%22,%20hotkey:%20%22Ctrl%20+%20Alt%20+%20E%22,%20alias:%20%22snapdom%22%20%7D,%20%5D,%20i=0;%20this.render=function()%7B%20menuBtn=document.createElement(%22div%22);%20menuBtn.className=%22menu-btn%20unselectable%22;%20menuBtn.appendChild(document.createTextNode(%22%5Cu250C%22));%20menuList=document.createElement(%22ul%22);%20menuList.className=%22rg-menu%22;%20var%20menuItems=document.createDocumentFragment(),%20li=document.createElement(%22li%22),%20liLink=document.createElement(%22a%22),%20liDesc=document.createElement(%22span%22),%20liHotKey=liDesc.cloneNode(false),%20liDescTxt=document.createTextNode(%22%22),%20liHotKeyTxt=liDescTxt.cloneNode(false);%20liLink.href=%22javascript:%22;%20liDesc.className=%22desc%22;%20liHotKey.className=%22hotkey%22;%20for%20(i;%20i%20%3C%20menuItemsList.length;%20i=i%20+%201)%7B%20li=li.cloneNode(false);%20liLink=liLink.cloneNode(false);%20liDesc=liDesc.cloneNode(false);%20liHotKey=liHotKey.cloneNode(false);%20liDescTxt=liDescTxt.cloneNode(false);%20liHotKeyTxt=liHotKeyTxt.cloneNode(false);%20liDescTxt.nodeValue=menuItemsList%5Bi%5D.text;%20liHotKeyTxt.nodeValue=menuItemsList%5Bi%5D.hotkey;%20liDesc.appendChild(liDescTxt);%20liHotKey.appendChild(liHotKeyTxt);%20liLink.appendChild(liDesc);%20liLink.appendChild(liHotKey);%20li.appendChild(liLink);%20menuItems.appendChild(li);%20toggles%5BmenuItemsList%5Bi%5D.alias%5D%20=%7Bobj:%20liLink,%20txt:%20liDescTxt%20%7D;%20%7D%20evt.attach(%22mousedown%22,%20toggles.rulers.obj,%20function()%7B%20toggleRulers();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.guides.obj,%20function()%7B%20toggleGuides();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.all.obj,%20function()%7B%20if%20(rulerStatus%20===%201%20%7C%7C%20guideStatus%20===%201)%7B%20rulerStatus=guideStatus=1;%20wrapper.style.display=%22none%22;%20%7D%20else%7B%20rulerStatus=guideStatus=0;%20wrapper.style.display=%22block%22;%20%7D%20toggleRulers();%20toggleGuides();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.lock.obj,%20function()%7B%20toggleRulersLock();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.clear.obj,%20function()%7B%20deleteGuides();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.open.obj,%20function()%7B%20openGridDialog.open();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.save.obj,%20function()%7B%20saveGrid();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.snap.obj,%20function()%7B%20snapDialog.open();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.details.obj,%20function()%7B%20detailsStatus=1%20-%20detailsStatus;%20showDetailedInfo();%20%7D);%20evt.attach(%22mousedown%22,%20toggles.snapdom.obj,%20function()%7B%20snapDom=1%20-%20snapDom;%20if%20(snapDom%20===%201)%7B%20domDimensions=calculateDomDimensions();%20%7D%20%7D);%20menuList.appendChild(menuItems);%20body.appendChild(menuBtn);%20body.appendChild(menuList);%20evt.attach(%22mousedown%22,%20menuBtn,%20function()%7B%20toggles.rulers.txt.nodeValue=rulerStatus%20===%201%20?%20%22Hide%20rulers%22%20:%20%22Show%20rulers%22;%20if%20(guidesCnt%20%3E%200)%7B%20toggles.guides.obj.className=%22%22;%20toggles.clear.obj.className=%22%22;%20toggles.save.obj.className=%22%22;%20toggles.guides.txt.nodeValue=guideStatus%20===%201%20?%20%22Hide%20guides%22%20:%20%22Show%20guides%22;%20%7D%20else%7B%20toggles.guides.obj.className=%22disabled%22;%20toggles.clear.obj.className=%22disabled%22;%20toggles.save.obj.className=%22disabled%22;%20%7D%20toggles.all.txt.nodeValue=rulerStatus%20===%201%20%7C%7C%20guideStatus%20===%201%20?%20%22Hide%20all%22%20:%20%22Show%20all%22;%20toggles.lock.txt.nodeValue=locked%20===%200%20?%20%22Lock%20rulers%22%20:%20%22Unlock%20rulers%22;%20toggles.details.txt.nodeValue=detailsStatus%20===%200%20?%20%22Show%20detailed%20info%22%20:%20%22Hide%20detailed%20info%22;%20toggles.snapdom.txt.nodeValue=snapDom%20===%200%20?%20%22Snap%20to%20DOM%22%20:%20%22Turn%20off%20snap%20to%20DOM%22;%20toggles.open.obj.className=gridListLen%20%3E%200%20?%20%22%22%20:%20%22disabled%22;%20menuList.style.display=status%20===%200%20?%20%22inline-block%22%20:%20%22none%22;%20status=1%20-%20status;%20%7D);%20%7D;%20this.render();%20this.close=function()%7B%20if%20(menuList%20!==%20null)%7B%20menuList.style.display=%22none%22;%20status=0;%20%7D%20%7D;%20%7D,%20SnapDialog=function()%7B%20var%20dialog=null,%20xInput=null,%20yInput=null,%20self=this;%20this.render=function()%7B%20if%20(dialog%20===%20null)%7B%20dialog=document.createElement(%22div%22);%20xInput=document.createElement(%22input%22);%20yInput=xInput.cloneNode(false);%20var%20text=document.createTextNode(%22%22),%20okBtn=document.createElement(%22button%22),%20xLabel=document.createElement(%22label%22),%20titleBar=dialog.cloneNode(false),%20dialogWrapper=dialog.cloneNode(false),%20inputWrapper=dialog.cloneNode(false),%20btnWrapper=dialog.cloneNode(false),%20resetBtn=okBtn.cloneNode(false),%20cancelBtn=okBtn.cloneNode(false),%20yLabel=xLabel.cloneNode(false),%20titleBarTxt=text.cloneNode(false),%20xLabelTxt=text.cloneNode(false),%20yLabelTxt=text.cloneNode(false),%20okBtnTxt=text.cloneNode(false),%20resetBtnTxt=text.cloneNode(false),%20cancelBtnTxt=text.cloneNode(false);%20titleBarTxt.nodeValue=%22Snap%20guides%20to%22;%20xLabelTxt.nodeValue=%22X%22;%20yLabelTxt.nodeValue=%22Y%22;%20okBtnTxt.nodeValue=%22OK%22;%20resetBtnTxt.nodeValue=%22Reset%22;%20cancelBtnTxt.nodeValue=%22Cancel%22;%20dialog.className=%22dialog%20snap-dialog%22;%20titleBar.className=%22title-bar%22;%20dialogWrapper.className=%22wrapper%22;%20xLabel.className=%22rg-x-label%22;%20xLabel.setAttribute(%22for%22,%20%22rg-x-snap%22);%20yLabel.className=%22rg-y-label%22;%20yLabel.setAttribute(%22for%22,%20%22rg-y-snap%22);%20xInput.setAttribute(%22type%22,%20%22number%22);%20xInput.value=%22100%22;%20xInput.id=%22rg-x-snap%22;%20xInput.setAttribute(%22type%22,%20%22number%22);%20yInput.value=%22100%22;%20yInput.id=%22rg-y-snap%22;%20okBtn.className=%22ok-btn%22;%20resetBtn.className=%22reset-btn%22;%20cancelBtn.className=%22cancel-btn%22;%20titleBar.appendChild(titleBarTxt);%20xLabel.appendChild(xLabelTxt);%20yLabel.appendChild(yLabelTxt);%20okBtn.appendChild(okBtnTxt);%20resetBtn.appendChild(resetBtnTxt);%20cancelBtn.appendChild(cancelBtnTxt);%20inputWrapper.appendChild(xLabel);%20inputWrapper.appendChild(xInput);%20inputWrapper.appendChild(yLabel);%20inputWrapper.appendChild(yInput);%20inputWrapper.appendChild(resetBtn);%20btnWrapper.appendChild(okBtn);%20btnWrapper.appendChild(cancelBtn);%20dialogWrapper.appendChild(inputWrapper);%20dialogWrapper.appendChild(btnWrapper);%20dialog.appendChild(titleBar);%20dialog.appendChild(dialogWrapper);%20body.appendChild(dialog);%20evt.attach(%22mousedown%22,%20okBtn,%20function()%7B%20xSnap=parseInt(xInput.value,%2010);%20ySnap=parseInt(yInput.value,%2010);%20self.close();%20%7D);%20evt.attach(%22mousedown%22,%20resetBtn,%20function()%7B%20xSnap=0;%20ySnap=0;%20self.close();%20%7D);%20evt.attach(%22mousedown%22,%20cancelBtn,%20function()%7B%20self.close();%20%7D);%20%7D%20%7D;%20this.render();%20this.open=function()%7B%20closeAllDialogs();%20dialog.style.display=%22block%22;%20dialog.style.left=(doc.clientWidth%20-%20dialog.clientWidth)%20/%202%20+%20%22px%22;%20dialog.style.top=(doc.clientHeight%20-%20dialog.clientHeight)%20/%202%20+%20%22px%22;%20%7D;%20this.close=function()%7B%20dialog.style.display=%22none%22;%20%7D;%20%7D,%20prepare=function()%7B%20var%20style=document.createElement(%22style%22),%20size=getWindowSize(),%20elements=document.getElementsByTagName(%22*%22),%20len=elements.length,%20i=0;%20for%20(i;%20i%20%3C%20len;%20i=i%20+%201)%7B%20domElements.push(elements%5Bi%5D);%20%7D%20style.setAttribute(%22type%22,%20%22text/css%22);%20if%20(style.styleSheet)%7B%20style.styleSheet.cssText=cssText;%20%7D%20else%7B%20style.appendChild(document.createTextNode(cssText));%20%7D%20body.appendChild(style);%20setTimeout(function()%7B%20hRuler=new%20Ruler(%22h%22,%205000);%20vRuler=new%20Ruler(%22v%22,%2020000);%20wrapper=document.createElement(%22div%22);%20gInfoBlockWrapper=wrapper.cloneNode(false);%20wrapper.className=%22rg-overlay%22;%20gInfoBlockWrapper.className=%22info-block-wrapper%22;%20wrapper.style.width=size%5B0%5D%20+%20%22px%22;%20wrapper.style.height=size%5B1%5D%20+%20%22px%22;%20wrapper.appendChild(hRuler);%20wrapper.appendChild(vRuler);%20wrapper.appendChild(gInfoBlockWrapper);%20body.appendChild(wrapper);%20domDimensions=calculateDomDimensions();%20menu=new%20Menu();%20snapDialog=new%20SnapDialog();%20openGridDialog=new%20OpenGridDialog();%20dialogs=%5BsnapDialog,%20openGridDialog%5D;%20%7D,%2010);%20%7D;%20prepare();%20this.status=1;%20this.disable=function()%7B%20if%20(vRuler%20!==%20null)%7B%20deleteGuides();%20vRuler.style.display=%22none%22;%20hRuler.style.display=%22none%22;%20wrapper.style.display=%22none%22;%20menuBtn.style.display=%22none%22;%20%7D%20rulerStatus=0;%20this.status=0;%20%7D;%20this.enable=function()%7B%20if%20(vRuler%20!==%20null)%7B%20vRuler.style.display=%22block%22;%20hRuler.style.display=%22block%22;%20wrapper.style.display=%22block%22;%20menuBtn.style.display=%22block%22;%20%7D%20rulerStatus=1;%20this.status=1;%20%7D;%20evt.attach(%22mousedown%22,%20document,%20function(e,%20src)%7B%20var%20x=e.clientX,%20y=e.clientY,%20guide=null,%20guideInfo=null,%20guideInfoText=null,%20scrollPos=getScrollPos(),%20snap=0;%20if%20(src.className.indexOf(%22menu-btn%22)%20===%20-1)%7B%20menu.close();%20%7D%20if%20(vBound%20===%200)%7B%20vBound=vRuler.offsetWidth;%20hBound=hRuler.offsetHeight;%20%7D%20if%20(((x%20%3E%20vBound%20&&%20y%20%3C%20hBound)%20%7C%7C%20(y%20%3E%20hBound%20&&%20x%20%3C%20vBound))%20&&%20rulerStatus%20===%201)%7B%20guide=document.createElement(%22div%22);%20guideInfo=guide.cloneNode(false);%20guideInfoText=document.createTextNode(%22%22);%20gUid=%22guide-%22%20+%20guidesCnt;%20guideInfo.className=%22info%22;%20guideInfo.appendChild(guideInfoText);%20guide.appendChild(guideInfo);%20if%20(x%20%3E%20vBound%20&&%20y%20%3C%20hBound)%7B%20guide.className=%22guide%20h%20draggable%22;%20guide.style.top=e.clientY%20+%20scrollPos%5B0%5D%20+%20%22px%22;%20guideInfo.style.left=x%20+%20scrollPos%5B1%5D%20+%2010%20+%20%22px%22;%20guide.type=%22h%22;%20snap=ySnap;%20mode=2;%20%7D%20else%20if%20(y%20%3E%20hBound%20&&%20x%20%3C%20vBound)%7B%20guide.className=%22guide%20v%20draggable%22;%20guide.style.left=x%20+%20scrollPos%5B1%5D%20+%20%22px%22;%20guideInfo.style.top=y%20+%20scrollPos%5B0%5D%20-%2035%20+%20%22px%22;%20guide.type=%22v%22;%20snap=xSnap;%20mode=1;%20%7D%20guide.id=gUid;%20guide.info=guideInfo;%20guide.text=guideInfoText;%20guide.x=0;%20guide.y=0;%20guides%5BgUid%5D=guide;%20wrapper.appendChild(guide);%20dragdrop.set(guide,%7B%20mode:%20mode,%20onstart:%20function(elem)%7B%20var%20text=elem.mode%20===%201%20?%20parseInt(elem.style.left,%2010)%20+%202%20:%20parseInt(elem.style.top,%2010)%20+%202;%20elem.text.nodeValue=text%20+%20%22px%22;%20if%20(elem.over%20!==%20undefined)%7B%20evt.detach(%22mouseover%22,%20elem,%20elem.over);%20evt.detach(%22mouseout%22,%20elem,%20elem.out);%20%7D%20%7D,%20onmove:%20function(elem)%7B%20var%20text=%22%22,%20pos=0,%20dims=%5B%5D,%20len=0,%20i=0;%20pos=elem.mode%20===%201%20?%20elem.style.left%20:%20elem.style.top;%20pos=parseInt(pos,%2010);%20if%20(snapDom%20===%201)%7B%20dims=domDimensions%5Belem.mode%20-%201%5D;%20for%20(i,%20len=dims.length;%20i%20%3C%20len;%20i=i%20+%201)%7Bif%20(pos%20%3C=%20dims%5Bi%5D)%7B%20pos=dims%5Bi%5D;%20break;%20%7D%20%7D%20%7D%20text=pos%20+%20%22px%22;%20if%20(elem.mode%20===%201)%7B%20elem.style.left=pos%20-%202%20+%20%22px%22;%20elem.x=pos;%20%7D%20else%7B%20elem.style.top=pos%20-%202%20+%20%22px%22;%20elem.y=pos;%20%7D%20elem.text.nodeValue=text;%20%7D,%20onstop:%20function(elem)%7B%20elem.over=evt.attach(%22mouseover%22,%20elem,%20function(e,%20src)%7B%20if%20(src.className%20===%20%22guide%20v%20draggable%22)%7Belem.info.style.top=e.clientY%20+%20scrollPos%5B0%5D%20-%2035%20+%20%22px%22;%20%7D%20else%20if%20(src.className%20===%20%22guide%20h%20draggable%22)%7Belem.info.style.left=e.clientX%20+%20scrollPos%5B1%5D%20+%2010%20+%20%22px%22;%20%7D%20elem.info.style.display=%22block%22;%20%7D);%20elem.out=evt.attach(%22mouseout%22,%20elem,%20function()%7B%20elem.info.style.display=%22none%22;%20%7D);%20%7D,%20snap:%20snap,%20%7D);%20dragdrop.start(e,%20guide);%20guidesCnt=guidesCnt%20+%201;%20%7D%20%7D);%20evt.attach(%22mouseup%22,%20document,%20function(e,%20src)%7B%20removeInboundGuide(src,%20src.id);%20if%20(detailsStatus%20===%201)%7B%20showDetailedInfo();%20%7D%20%7D);%20evt.attach(%22keyup%22,%20document,%20function(e)%7B%20if%20(e.ctrlKey%20===%20true%20&&%20e.altKey%20===%20true)%7B%20switch%20(e.keyCode)%7B%20case%2083:%20saveGrid();%20break;%20case%2082:%20toggleRulers();%20break;%20case%2079:%20openGridDialog.open();%20break;%20case%2076:%20toggleRulersLock();%20break;%20case%2073:%20detailsStatus=1%20-%20detailsStatus;%20showDetailedInfo();%20break;%20case%2071:%20toggleGuides();%20break;%20case%2069:%20snapDom=1%20-%20snapDom;%20if%20(snapDom%20===%201)%7B%20domDimensions=calculateDomDimensions();%20%7D%20break;%20case%2068:%20deleteGuides();%20break;%20case%2067:%20snapDialog.open();%20break;%20case%2065:%20if%20(rulerStatus%20===%201%20%7C%7C%20guideStatus%20===%201)%7B%20rulerStatus=guideStatus=1;%20wrapper.style.display=%22none%22;%20%7D%20else%7B%20rulerStatus=guideStatus=0;%20wrapper.style.display=%22block%22;%20%7D%20toggleRulers();%20toggleGuides();%20break;%20%7D%20%7D%20%7D);%20evt.attach(%22resize%22,%20window,%20function()%7B%20var%20size=getWindowSize();%20wrapper.style.width=size%5B0%5D%20+%20%22px%22;%20wrapper.style.height=size%5B1%5D%20+%20%22px%22;%20if%20(resizeTimer%20!==%20null)%7B%20window.clearTimeout(resizeTimer);%20%7D%20if%20(snapDom%20===%201)%7B%20resizeTimer=window.setTimeout(function()%7B%20domDimensions=calculateDomDimensions();%20%7D,%20100);%20%7D%20%7D);%20%7D;%20var%20evt=new%20Event(),%20dragdrop=new%20Dragdrop(evt);%20if%20(window.rg%20===%20undefined)%7Bwindow.rg=new%20RulersGuides(evt,%20dragdrop);%20window.rg.status=0;%20%7D%20if%20(window.rg.status%20===%201)%7Bwindow.rg.disable();%20%7D%20else%7Bwindow.rg.enable();%20%7D%7D)();
